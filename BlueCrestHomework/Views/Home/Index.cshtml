@{
    ViewData["Title"] = "Home Page";
}

@model RequestBinding 

<div class="text-center">
    <div class="row col">
        <strong class="col-sm-4 align-text-middle"><img width="100" height="50" src="Images/bluecrest_logo.png"/></strong>
        <strong class="col-sm-4 align-text-middle">Report: Pnl By Stategy</strong>
        <span class="col-sm-4 align-text-middle">Generated: @DateTime.Now</span>
    </div>
    @if (Model.TotalPnl < 0)
    {
        <h4 class ="alert-danger">Total Pnl: ($@Math.Round(Math.Abs(Model.TotalPnl), 4))</h4>
    }
    else
    {
        <h4 class ="alert-success">Total Pnl: $@Math.Round(Model.TotalPnl, 4)</h4>
    }
    <div class="align-content-center">
        <table class="table-striped m-auto">
            @{
                int i = 0;
                foreach (var row in Model.Rows)
                {
                    if (i == 0)
                    {
                        <thead>
                        <tr>
                            <th>@nameof(row.Fund)</th>
                            <th>@nameof(row.Strategy)</th>
                            <th>@nameof(row.Desk)</th>
                            <th>Pnl ($)</th>
                            <th>Pnl Reported</th>
                        </tr>
                        </thead>
                    }
                    else
                    {
                        <tr>
                            <td class="text-left font-weight-bold">@row.Fund</td>
                            <td class="text-left">@row.Strategy</td>
                            <td class="text-left">@row.Desk</td>
                            
                            @if (row.PnlReported)
                            {
                                @if (row.Pnl >= 0)
                                {
                                    <td class="text-right">@Math.Floor(row.Pnl)</td>
                                }
                                else
                                {
                                    <td class="text-right alert-danger">(@Math.Floor(Math.Abs(row.Pnl)))</td>
                                }
                                <td><img width="30" height="30" class="img-thumbnail small" src="Images/small_tick.jpeg"/></td>
                            }
                            else
                            {
                                <td class="text-right">N/A</td>
                                <td></td>
                            }
                        </tr>
                    }
                    i++;
                }
            }
        </table>
        </div>
    
</div>